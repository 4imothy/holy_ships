[gd_scene load_steps=12 format=3 uid="uid://164y6euup4fn"]

[ext_resource type="Script" path="res://scripts/game.gd" id="1_blgyt"]
[ext_resource type="PackedScene" uid="uid://dcqleymus211v" path="res://objects/player.tscn" id="3_2g0rx"]
[ext_resource type="PackedScene" uid="uid://brfvy70xweir5" path="res://objects/fire.tscn" id="4_l4ty5"]
[ext_resource type="PackedScene" uid="uid://duniemp01a8h3" path="res://objects/map.tscn" id="4_tlabt"]
[ext_resource type="Script" path="res://scripts/fire.gd" id="5_roxxf"]
[ext_resource type="Shader" path="res://objects/fire.gdshader" id="6_m1h0i"]
[ext_resource type="Texture2D" uid="uid://1nau7h6p3jyq" path="res://static/TransparentSpaceBackground.png" id="8_1xfr8"]
[ext_resource type="Texture2D" uid="uid://kt3rx44m20tb" path="res://static/background/SpaceBackground3.png" id="8_c3vgs"]
[ext_resource type="Script" path="res://scripts/parallax_layer.gd" id="8_r1lig"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_52d86"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_2g53u"]
shader = ExtResource("6_m1h0i")
shader_parameter/progress = 0.0

[node name="game" type="Node2D" node_paths=PackedStringArray("players_container", "spawn_points", "music_player")]
script = ExtResource("1_blgyt")
player_scene = ExtResource("3_2g0rx")
players_container = NodePath("---Players---/PlayersContainer")
spawn_points = [NodePath("---Players---/SpawnPoint_0"), NodePath("---Players---/SpawnPoint_1")]
music_player = NodePath("---Environment---/BackgroundMusic")

[node name="---Environment---" type="Node" parent="."]

[node name="Map" parent="---Environment---" instance=ExtResource("4_tlabt")]
z_index = -1
position = Vector2(550, 350)
scale = Vector2(0.5, 0.5)

[node name="fire" parent="---Environment---" instance=ExtResource("4_l4ty5")]
material = SubResource("ShaderMaterial_52d86")
position = Vector2(65, 286)
rotation = -1.5709
scale = Vector2(0.843422, 1.30381)
autoplay = "default"
frame_progress = 0.130795
script = ExtResource("5_roxxf")
shader_material = SubResource("ShaderMaterial_2g53u")

[node name="Timer" type="Timer" parent="---Environment---/fire"]
wait_time = 5.0

[node name="ParallaxBackground" type="ParallaxBackground" parent="---Environment---"]

[node name="ParallaxLayer" type="ParallaxLayer" parent="---Environment---/ParallaxBackground"]
position = Vector2(1500, 325)
motion_mirroring = Vector2(3000, 0)
script = ExtResource("8_r1lig")

[node name="Sprite2D" type="Sprite2D" parent="---Environment---/ParallaxBackground/ParallaxLayer"]
texture = ExtResource("8_c3vgs")

[node name="ParallaxLayer2" type="ParallaxLayer" parent="---Environment---/ParallaxBackground"]
position = Vector2(1500, 325)
motion_mirroring = Vector2(3000, 0)
script = ExtResource("8_r1lig")

[node name="Sprite2D" type="Sprite2D" parent="---Environment---/ParallaxBackground/ParallaxLayer2"]
texture = ExtResource("8_1xfr8")

[node name="BackgroundMusic" type="AudioStreamPlayer2D" parent="---Environment---"]

[node name="---Players---" type="Node" parent="."]

[node name="PlayersContainer" type="Node2D" parent="---Players---"]

[node name="MultiplayerSpawner" type="MultiplayerSpawner" parent="---Players---"]
_spawnable_scenes = PackedStringArray("res://objects/player.tscn")
spawn_path = NodePath("../PlayersContainer")
spawn_limit = 1

[node name="SpawnPoint_0" type="Node2D" parent="---Players---"]
position = Vector2(485, 362)

[node name="SpawnPoint_1" type="Node2D" parent="---Players---"]
position = Vector2(568, 363)

[connection signal="timeout" from="---Environment---/fire/Timer" to="---Environment---/fire" method="_on_timer_timeout"]
[connection signal="spawned" from="---Players---/MultiplayerSpawner" to="." method="_on_multiplayer_spawner_spawned"]
